<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patienten-Timeline Generator</title>
    <link rel="stylesheet" href="datepicker.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Patienten-Timeline Generator</h1>

        <section class="card">
            <h2>Patienteninformationen</h2>
            <div class="form-grid patient-info-grid">
                <div>
                    <label for="patientName">Name, Vorname:</label>
                    <input type="text" id="patientName" name="patientName">
                </div>
                <div>
                    <label for="patientDob">Geburtsdatum:</label>
                    <input type="text" id="patientDob" name="patientDob" placeholder="TT.MM.JJJJ" autocomplete="off">
                </div>
                 <div>
                    <label for="orthoTeam">Orthopädie Team:</label>
                    <select id="orthoTeam" name="orthoTeam">
                        <option value="">-- Team wählen --</option>
                        <option value="Fuss">Fuss</option>
                        <option value="Hüfte">Hüfte</option>
                        <option value="Knie">Knie</option>
                        <option value="OE">Obere Extremität (OE)</option>
                        <option value="Tumor">Tumor</option>
                        <option value="WS">Wirbelsäule (WS)</option>
                        <option value="Andere">Andere</option>
                    </select>
                </div>
                 <div class="full-width diagnose-field">
                    <label for="patientDiagnosis">Diagnose:</label>
                    <textarea id="patientDiagnosis" name="patientDiagnosis" rows="3"></textarea>
                </div>
                 <div>
                    <label for="patientTeam">Zuständiges ext. Team/Arzt:</label>
                    <input type="text" id="patientTeam" name="patientTeam" placeholder="z.B. Hausarzt, Spital X">
                 </div>
                 <div class="checkbox-group">
                     <label>Konsilien:</label>
                     <div>
                         <input type="checkbox" id="infektioInvolviert" name="infektioInvolviert">
                         <label for="infektioInvolviert">Infektiologie involviert</label>
                     </div>
                     <div>
                         <input type="checkbox" id="plwcInvolviert" name="plwcInvolviert">
                         <label for="plwcInvolviert">PLWC involviert</label>
                     </div>
                 </div>
            </div>
             <button id="copyPatientDataButton" class="button-copy">Patientendaten kopieren</button>
        </section>

        <section class="card">
            <h2>Ereignis hinzufügen</h2>
            <form id="eventForm" class="form-grid">
                <div>
                    <label for="eventDate">Datum:</label>
                    <input type="text" id="eventDate" name="eventDate" required placeholder="TT.MM.JJJJ" autocomplete="off">
                </div>
                <div>
                    <label for="eventType">Ereignistyp:</label>
                    <select id="eventType" name="eventType" required>
                        <option value="">-- Typ wählen --</option>
                        <option value="OP">Operation (OP)</option>
                        <option value="Antibiotika Start">Antibiotika Start</option>
                        <option value="Antibiotika Ende">Antibiotika Ende</option>
                        <option value="Mikrobiologie">Mikrobiologie (Keim)</option>
                        <option value="Labor CRP">Labor: CRP (mg/l)</option>
                        <option value="Labor Lc">Labor: Lc (G/l)</option>
                        <option value="Klinisches Ereignis">Klinisches Ereignis</option>
                        <option value="Notiz">Notiz</option>
                    </select>
                </div>
                <div class="full-width">
                    <label for="eventDetails">Details / Wert:</label>
                    <input type="text" id="eventDetails" name="eventDetails" required placeholder="z.B. OP-Beschreibung, Medikament/Dosis, Keim/Resistenz, Laborwert, Ereignisbeschreibung">
                </div>
                <div class="full-width">
                    <button type="submit" class="button-primary">Ereignis hinzufügen</button>
                </div>
            </form>
        </section>

        <section class="card">
            <h2>Eingegebene Ereignisse</h2>
            <ul id="eventList">
                <li>Noch keine Ereignisse hinzugefügt.</li>
            </ul>
             <button id="clearAllButton" class="button-danger">Alle Ereignisse löschen</button>
        </section>


        <section class="card" id="outputSection"> <h2>Generierte Timeline & Übersichten</h2>

            <div id="timelineSection"> <h3>Timeline</h3>
                <p><i>Hinweis: Für Präsentationen die Timeline am besten als Screenshot kopieren.</i></p>
                 <p id="timelineStatus">Ereignisse eingeben, um die Timeline zu generieren.</p>
                <div id="timelineSvgWrapper">
                    <svg id="timelineSvg" width="100%" height="450"></svg>
                </div>
                 <button id="printTimelineButton" class="button-secondary">Timeline drucken</button>
            </div>

            <hr class="section-divider"> <div id="summariesSection">
                <h3>Übersichten</h3>
                <div id="opSummary" class="summary-box">
                    <h4>Übersicht OPs</h4>
                    <div id="opListContainer" class="summary-list-container">
                        <ul id="opList"><li>Keine OPs eingegeben.</li></ul>
                    </div>
                    <button id="copyOpsButton" class="button-copy">OPs kopieren</button>
                </div>
                <div id="germSummary" class="summary-box">
                    <h4>Übersicht Keim(e)</h4>
                     <div id="germListContainer" class="summary-list-container">
                        <ul id="germList"><li>Keine Mikrobiologie eingegeben.</li></ul>
                     </div>
                    <button id="copyGermsButton" class="button-copy">Keime kopieren</button>
                </div>
                <div id="antibioticSummary" class="summary-box">
                    <h4>Übersicht Antibiotika</h4>
                    <div id="antibioticListContainer" class="summary-list-container">
                        <ul id="antibioticList"><li>Keine Antibiotika eingegeben.</li></ul>
                    </div>
                    <button id="copyAntibioticsButton" class="button-copy">Antibiotika kopieren</button>
                </div>
            </div>
        </section>

    </div>

    <script src="datepicker-full.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
